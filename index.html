<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Torneo de Skins de Fortnite</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #0f0f23;
      color: white;
      text-align: center;
      padding: 20px;
      overflow-x: hidden;
    }
    h1 {
      color: #4e73df;
      margin-bottom: 20px;
    }
    .voting-container {
      display: flex;
      justify-content: space-around;
      align-items: center;
      gap: 20px;
      margin: 30px 0;
    }
    .option {
      cursor: pointer;
      transition: transform 0.2s;
      max-width: 220px;
    }
    .option img {
      width: 100%;
      border-radius: 12px;
      border: 3px solid #333;
      object-fit: cover;
    }
    .option:hover {
      transform: scale(1.05);
    }
    .option:hover img {
      border-color: #4e73df;
    }
    .results {
      margin-top: 20px;
      font-size: 1.1em;
    }
    .round-indicator {
      font-size: 1.2em;
      font-weight: bold;
      color: #ff6b6b;
      margin: 10px 0;
    }
    .winner-section {
      display: none;
      padding: 30px;
      background: rgba(78, 115, 223, 0.2);
      border-radius: 15px;
      margin-top: 30px;
    }
    .winner-img {
      width: 300px;
      border-radius: 15px;
      border: 5px solid gold;
      box-shadow: 0 0 20px gold;
      margin: 20px auto;
    }
    .confetti {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 9999;
    }
    .leaderboard {
      margin-top: 40px;
      background: rgba(255, 255, 255, 0.05);
      padding: 20px;
      border-radius: 10px;
      text-align: left;
    }
    .leaderboard h2 {
      color: #4caf50;
    }
    .leaderboard ul {
      list-style: none;
      padding: 0;
    }
    .leaderboard li {
      padding: 10px;
      border-bottom: 1px solid #333;
      display: flex;
      justify-content: space-between;
    }
    .leaderboard li:last-child {
      border-bottom: none;
    }
  </style>
</head>
<body>
  <h1>üèÜ Torneo de Skins de Fortnite üèÜ</h1>
  <div class="round-indicator" id="roundIndicator">Ronda 1 de 4</div>

  <div class="voting-container">
    <div class="option" id="optionA" onclick="vote('A')">
      <img id="imgA" src="" alt="Skin A">
    </div>
    <div style="font-size: 2em; align-self: center; font-weight: bold;">VS</div>
    <div class="option" id="optionB" onclick="vote('B')">
      <img id="imgB" src="" alt="Skin B">
    </div>
  </div>

  <div class="results" id="results"></div>

  <div class="winner-section" id="winnerSection">
    <h2>üéâ ¬°GANADOR DEL TORNEO! üéâ</h2>
    <div class="confetti" id="confetti"></div>
    <img class="winner-img" id="winnerImg" src="" alt="Ganador">
    <h3>ü•á N√öMERO 1 ü•á</h3>
  </div>

  <div class="leaderboard" id="leaderboard">
    <h2>üìä Tabla de Clasificaci√≥n Final</h2>
    <ul id="leaderboardList"></ul>
  </div>

  <script>
    // Tus skins de Fortnite
    const skins = [
      'https://s93.erome.com/5472/K3IRZbxx/Y8DPmT76.jpeg?v=1764825894',
      'https://s93.erome.com/5472/K3IRZbxx/0B8OzReu.jpeg?v=1764815871',
      'https://s93.erome.com/5472/K3IRZbxx/7GmdJa3U.jpeg?v=1764802552',
      'https://s93.erome.com/5472/K3IRZbxx/1FvcJ5u7.png?v=1764809177',
      'https://s93.erome.com/5472/K3IRZbxx/0VxSvgAl.jpeg?v=1764818017'
    ];

    // Contador de votos
    const votes = {};
    skins.forEach(skin => votes[skin] = 0);

    let currentA, currentB;
    let round = 1;
    let totalRounds = Math.floor(Math.log2(skins.length)) + 1; // Para 5 skins: 3 rondas (2^3=8 > 5)
    let remainingSkins = [...skins];

    function getRandomPair() {
      if (remainingSkins.length < 2) return [null, null];
      let a, b;
      do {
        a = remainingSkins[Math.floor(Math.random() * remainingSkins.length)];
        b = remainingSkins[Math.floor(Math.random() * remainingSkins.length)];
      } while (a === b);
      return [a, b];
    }

    function displayPair() {
      if (remainingSkins.length < 2) {
        showWinner();
        return;
      }

      [currentA, currentB] = getRandomPair();
      document.getElementById('imgA').src = currentA;
      document.getElementById('imgB').src = currentB;
      document.getElementById('roundIndicator').innerText = `Ronda ${round} de ${totalRounds}`;
    }

    function vote(choice) {
      if (choice === 'A') votes[currentA]++;
      if (choice === 'B') votes[currentB]++;

      // Eliminar la skin perdedora
      let loser = choice === 'A' ? currentB : currentA;
      remainingSkins = remainingSkins.filter(skin => skin !== loser);

      // Mostrar resultado parcial
      document.getElementById('results').innerHTML = `
        <p>‚úîÔ∏è ${votes[currentA]} votos | ‚ùå ${votes[currentB]} votos</p>
        <p><em>Siguiente ronda en 1 segundo...</em></p>
      `;

      round++;
      setTimeout(displayPair, 1000);
    }

    function showWinner() {
      // Encontrar el ganador (el que m√°s votos tiene)
      const winner = Object.keys(votes).reduce((a, b) => votes[a] > votes[b] ? a : b);
      document.getElementById('winnerImg').src = winner;
      document.getElementById('winnerSection').style.display = 'block';
      document.getElementById('voting-container').style.display = 'none';
      document.getElementById('roundIndicator').style.display = 'none';
      document.getElementById('results').style.display = 'none';

      // Generar confeti
      createConfetti();

      // Actualizar tabla de clasificaci√≥n
      updateLeaderboard();
    }

    function createConfetti() {
      const confettiContainer = document.getElementById('confetti');
      for (let i = 0; i < 100; i++) {
        const confetti = document.createElement('div');
        confetti.style.position = 'absolute';
        confetti.style.width = Math.random() * 10 + 5 + 'px';
        confetti.style.height = Math.random() * 10 + 5 + 'px';
        confetti.style.backgroundColor = getRandomColor();
        confetti.style.left = Math.random() * 100 + '%';
        confetti.style.top = '-10px';
        confetti.style.animation = `fall ${Math.random() * 3 + 2}s linear forwards`;
        confettiContainer.appendChild(confetti);
      }

      // Agregar animaci√≥n CSS
      const style = document.createElement('style');
      style.textContent = `
        @keyframes fall {
          to { transform: translateY(100vh); opacity: 0; }
        }
      `;
      document.head.appendChild(style);
    }

    function getRandomColor() {
      const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#feca57', '#ff9ff3', '#5f27cd'];
      return colors[Math.floor(Math.random() * colors.length)];
    }

    function updateLeaderboard() {
      const leaderboardList = document.getElementById('leaderboardList');
      leaderboardList.innerHTML = '';

      // Ordenar skins por votos (de mayor a menor)
      const sortedSkins = Object.keys(votes).sort((a, b) => votes[b] - votes[a]);

      sortedSkins.forEach((skin, index) => {
        const li = document.createElement('li');
        li.innerHTML = `<span>${index + 1}. Skin ${index + 1}</span><span>${votes[skin]} votos</span>`;
        leaderboardList.appendChild(li);
      });
    }

    // Iniciar el torneo
    displayPair();
  </script>
</body>
</html>
